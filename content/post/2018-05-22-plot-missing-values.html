---
title: Plot Missing Values
author: Masood Sadat
date: '2018-05-22'
slug: plot-missing-values
categories:
  - R tips
tags:
  - R tips
---



<p>In one of <a href="http://datacamp.com/"><strong>DataCamp</strong></a> courses that I cannot remember which one, the instructor used <code>geom_tile</code> from <code>ggplot2</code> package to visualize missing values. Here, I am going to replicate that using <code>airquality</code> dataset from base R.</p>
<p>To start, we can use <code>summary()</code> and <code>str()</code> functions to inspect the data.</p>
<pre class="r"><code>summary(airquality)</code></pre>
<pre><code>##      Ozone           Solar.R           Wind             Temp      
##  Min.   :  1.00   Min.   :  7.0   Min.   : 1.700   Min.   :56.00  
##  1st Qu.: 18.00   1st Qu.:115.8   1st Qu.: 7.400   1st Qu.:72.00  
##  Median : 31.50   Median :205.0   Median : 9.700   Median :79.00  
##  Mean   : 42.13   Mean   :185.9   Mean   : 9.958   Mean   :77.88  
##  3rd Qu.: 63.25   3rd Qu.:258.8   3rd Qu.:11.500   3rd Qu.:85.00  
##  Max.   :168.00   Max.   :334.0   Max.   :20.700   Max.   :97.00  
##  NA&#39;s   :37       NA&#39;s   :7                                       
##      Month            Day      
##  Min.   :5.000   Min.   : 1.0  
##  1st Qu.:6.000   1st Qu.: 8.0  
##  Median :7.000   Median :16.0  
##  Mean   :6.993   Mean   :15.8  
##  3rd Qu.:8.000   3rd Qu.:23.0  
##  Max.   :9.000   Max.   :31.0  
## </code></pre>
<pre class="r"><code>str(airquality)</code></pre>
<pre><code>## &#39;data.frame&#39;:    153 obs. of  6 variables:
##  $ Ozone  : int  41 36 12 18 NA 28 23 19 8 NA ...
##  $ Solar.R: int  190 118 149 313 NA NA 299 99 19 194 ...
##  $ Wind   : num  7.4 8 12.6 11.5 14.3 14.9 8.6 13.8 20.1 8.6 ...
##  $ Temp   : int  67 72 74 62 56 66 65 59 61 69 ...
##  $ Month  : int  5 5 5 5 5 5 5 5 5 5 ...
##  $ Day    : int  1 2 3 4 5 6 7 8 9 10 ...</code></pre>
<p>From above, I can inspect data type, desriptive statistics, and first few values of each column/variable. The <code>summary()</code> also provide if any of the columns have missing values. <code>glimpse()</code> from <strong>dplyr</strong> also provide another function to inspect the data.</p>
<p>We found out that <code>Ozone</code> and <code>Solar.R</code> columns have missing values.</p>
<pre class="r"><code>library(tidyverse)

airquality %&gt;%
  is.na() %&gt;%
  data.frame() %&gt;%
  mutate(obs = 1:nrow(.)) %&gt;%
  gather(var, is_missing, -obs) %&gt;%
  ggplot(aes(var, obs, fill = is_missing)) + geom_tile()</code></pre>
<p><img src="/post/2018-05-22-plot-missing-values_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
