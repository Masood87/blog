---
title: Linear regression with R
author: ''
date: '2018-06-12'
slug: linear-regression-with-r
categories:
  - r tips
tags:
  - inferential statistics
---



<div id="linear-regression" class="section level1">
<h1>linear regression</h1>
<p>A simple linear regression using <strong>mtcars</strong> dataset, which is available with R. Here, we look at how number of cylinders in a car is associated with how many miles a car travels per gallon of gasoline–an indicator of fuel economy. Let’s look at the structure of <strong>mtcars</strong> first.</p>
<pre class="r"><code>str(mtcars)</code></pre>
<pre><code>## &#39;data.frame&#39;:    32 obs. of  11 variables:
##  $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
##  $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
##  $ disp: num  160 160 108 258 360 ...
##  $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
##  $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
##  $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
##  $ qsec: num  16.5 17 18.6 19.4 17 ...
##  $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
##  $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
##  $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
##  $ carb: num  4 4 1 1 2 1 4 2 2 4 ...</code></pre>
<p><strong>mpg</strong> and <strong>cyl</strong> are my variables of interest. Let’s run a linear regression and see the result.</p>
<pre class="r"><code>lm(mpg ~ cyl, data = mtcars)</code></pre>
<pre><code>## 
## Call:
## lm(formula = mpg ~ cyl, data = mtcars)
## 
## Coefficients:
## (Intercept)          cyl  
##      37.885       -2.876</code></pre>
<p>As expected, the relationship is negative, meaning more cylinders is associated with lower miles per gallon (mpg). The <code>lm()</code> function can be wrapped inside <code>summary()</code> and <code>broom::tidy()</code> too.</p>
<pre class="r"><code>lm_model &lt;- lm(mpg ~ cyl, data = mtcars)
broom::tidy(lm_model)</code></pre>
<pre><code>##          term estimate std.error statistic      p.value
## 1 (Intercept) 37.88458 2.0738436 18.267808 8.369155e-18
## 2         cyl -2.87579 0.3224089 -8.919699 6.112687e-10</code></pre>
</div>
